function Control(){this.render(),this.layout()}function Second(e){this.fillColor=e||"red",Control.call(this)}function Minute(e){Second.call(this,e||"black")}function Hour(e){Second.call(this,e||"black")}function Dot(){Control.call(this)}function Diamond(e,t){this.minute=e,this.size=t,this.angle=(this.minute-15)*Math.PI/30,Control.call(this)}function Clock(){var e=0,t=document.createElement("style");document.head.appendChild(t),t.sheet.insertRule("html{height:100%}",e++),t.sheet.insertRule("body{margin:0;height:100%;}",e++),t.sheet.insertRule("*{box-sizing:border-box}",e++),t.sheet.insertRule("@keyframes rotation{from{transform: rotate(0);}to{transform: rotate(360deg);}}",e++);for(var o=new Dot,n=new Second,l=new Minute("blue"),i=new Hour("green"),r=[],a=0;a<60;a++){var s=null;s=a%5==0?new Diamond(a,.02):new Diamond(a,.01),r.push(s)}window.onresize=function(){Control.windowResized(),o.layout(),n.layout(),l.layout(),i.layout();for(var e in r)r[e].layout()}}Control.prototype.fillColor="black",Control.prototype.render=function(){this.ele=document.createElement("div"),this.ele.style.backgroundColor=this.fillColor,this.ele.style.position="absolute",document.body.appendChild(this.ele)},Control.prototype.layout=function(){},Control.windowResized=function(){Control.clientWidth=document.documentElement.clientWidth,Control.clientHeight=document.documentElement.clientHeight,Control.radius=Math.min(Control.clientWidth,Control.clientHeight)/2,console.log("宽："+Control.clientWidth+" 高："+Control.clientHeight+" 半径："+Control.radius)},Control.windowResized(),Second.prototype=Object.create(Control.prototype),Second.prototype.constructor=Second,Second.prototype.calcRender=function(){var e={};e.zIndex=9,e.during=60;var t=(new Date).getSeconds();return e.delay=-(t+15),e},Second.prototype.calcLayout=function(){var e={};return e.eleWScale=2,e.eleHScale=.02,e.spanEleWScale=1.2,e.spanEleHScale=.02,e},Second.prototype.render=function(){Control.prototype.render.call(this);var e=this.calcRender();this.ele.style.backgroundColor="initial",this.ele.style.zIndex=e.zIndex,this.ele.style.animationName="rotation",this.ele.style.animationTimingFunction="linear",this.ele.style.animationIterationCount="infinite",this.ele.style.animationDuration=e.during+"s",this.ele.style.animationDelay=e.delay+"s",this.spanEle=document.createElement("span"),this.spanEle.style.display="block",this.spanEle.style.backgroundColor=this.fillColor,this.ele.appendChild(this.spanEle)},Second.prototype.layout=function(){var e=this.calcLayout(),t=Control.radius;this.ele.style.width=t*e.eleWScale+"px",this.ele.style.height=t*e.eleHScale+"px",this.ele.style.left=Control.clientWidth/2-t*e.eleWScale/2+"px",this.ele.style.top=Control.clientHeight/2-t*e.eleHScale/2+"px",this.spanEle.style.width=t*e.spanEleWScale+"px",this.spanEle.style.height=t*e.spanEleHScale+"px",this.spanEle.style.borderRadius=t*e.spanEleHScale/2+"px"},Minute.prototype=Object.create(Second.prototype),Minute.prototype.constructor=Minute,Minute.prototype.calcRender=function(){var e={};e.zIndex=8,e.during=3600;var t=new Date,o=t.getSeconds(),n=t.getMinutes();return e.delay=-(60*(n+15)+o),e},Minute.prototype.calcLayout=function(){var e={};return e.eleWScale=1.8,e.eleHScale=.04,e.spanEleWScale=1.1,e.spanEleHScale=.04,e},Hour.prototype=Object.create(Second.prototype),Hour.prototype.constructor=Hour,Hour.prototype.calcRender=function(){var e={};e.zIndex=7,e.during=43200;var t=new Date,o=t.getSeconds(),n=t.getMinutes(),l=t.getHours();return e.delay=-(60*(l+3)*60+60*n+o),e},Hour.prototype.calcLayout=function(){var e={};return e.eleWScale=1.6,e.eleHScale=.05,e.spanEleWScale=1,e.spanEleHScale=.05,e},Dot.prototype=Object.create(Control.prototype),Dot.prototype.constructor=Dot,Dot.prototype.render=function(){Control.prototype.render.call(this),this.ele.style.borderRadius="50%",this.ele.style.zIndex=10},Dot.prototype.layout=function(){var e=.03*Control.radius;this.ele.style.width=2*e+"px",this.ele.style.height=2*e+"px",this.ele.style.top=Control.clientHeight/2-e+"px",this.ele.style.left=Control.clientWidth/2-e+"px"},Diamond.prototype=Object.create(Control.prototype),Diamond.prototype.constructor=Diamond,Diamond.prototype.render=function(){Control.prototype.render.call(this),this.ele.style.borderRadius="50%",this.ele.style.zIndex=6},Diamond.prototype.layout=function(){this.ele.style.width=Control.radius*this.size*2+"px",this.ele.style.height=Control.radius*this.size*2+"px";var e=Control.clientWidth/2+Control.radius*Math.cos(this.angle),t=Control.clientHeight/2+Control.radius*Math.sin(this.angle);this.ele.style.left=e-Control.radius*this.size+"px",this.ele.style.top=t-Control.radius*this.size+"px"};